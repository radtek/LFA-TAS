<div ng-app="LFA" ng-controller="ClaimEndorsementApprovalCtrl as ClaimEndorsementApprovalController" ng-init="PolicySearchPopup()">

    <style>
        .swMain > ul {
            margin: 0 !important;
        }

        .input-sm {
            height: 30px !important;
            font-size: 12px !important;
        }

        fieldset {
            padding: 15px !important;
        }

        .dropdown-menu {
            z-index: 10000;
        }

        .my-form {
            -webkit-transition: all linear 0.5s;
            transition: all linear 0.5s;
            background: transparent;
        }

        .error {
            color: red;
        }

        .ngdialog-content {
            width: 900px !important;
            height: 550px !important;
        }

        .grid {
            height: 200px;
        }

        .form-group {
            margin-bottom: 0 !important;
        }


        #loading {
            width: 100%;
            height: 100%;
            top: 120px;
            left: 0px;
            position: fixed;
            display: block;
            opacity: 0.7;
            background-color: black;
            z-index: 99;
            text-align: center;
        }

        .watermark {
            /*position: absolute;*/
            top: 50%;
            font-size: 15px;
            width: 100%;
            text-align: center;
            margin-top: 20px;
            z-index: 1000;
        }
        /*
               This is the background of our overlay. We need it to be
               absolutely positioned within the grid, and fill from
               top to bottom, and the full width. It will also have
               a black background with 40% opacity.
            */
        .grid-msg-overlay {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.4);
        }

            /*
              This guy will contain our message. We want it centered
              so it's positioned absolutely with percentage-based
              offsets and dimensions. It also has some basic border
              stuff and most important is using "display: table" so
              we can vertically center its contents.
            */
            .grid-msg-overlay .msg {
                opacity: 1;
                position: absolute;
                top: 20%;
                left: 20%;
                width: 60%;
                height: 50%;
                background-color: #eee;
                border-radius: 4px;
                border: 1px solid #555;
                text-align: center;
                font-size: 24px;
                display: table;
            }

                /*
              Lastly this is the actual message text. It uses
              display: table-cell so the vertical alignment
              works properly.
            */
                .grid-msg-overlay .msg span {
                    display: table-cell;
                    vertical-align: middle;
                }

        .has-error {
            border: solid 1px #e84e4e !important;
            /*#fbaa2b*/
        }

        .highlightO {
            background-color: #FFE4E1;
        }

        .highlightE {
            background-color: #72C2D3;
        }
    </style>

    <section id="page-title" class="pageTitleModifier">
        <div class="row">
            <div class="col-sm-8 ">
                <h1 class="mainTitle TitleModifier"> Claim Endorsement Approval </h1>
                <!--<span class="mainDescription TitleModifier">You can approve policy endorsements here.</span>-->
                <span class="mainDescription TitleModifier">You can approved endorsed Claims here. Please search endorsed Claims requests to approve.</span>
            </div>
            <div class="col-sm-4">
                <button type="button" class="btn btn-twitter pull-right" ng-click="PolicySearchPopup()">
                    <i class="fa fa-search"></i>
                    | Search Endorsement Requests
                </button>

            </div>
        </div>
    </section>

    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-white no-radius">
                <div class="panel-heading border-light panelHeaderModifier">
                    <h6 class="panel-title TitleModifier">
                        ORIGINAL CLAIM
                    </h6>
                </div>
                <div class="panel-body">                    
                   
                        <div class="row">
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Policy No
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> P00025 </b></div></div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Claim No
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> C00012 </b></div></div>
                            </div>
                        </div>
                       
                        <div class="row">
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Customer
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> Nimal Samaraweera </b></div></div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Vin/Serial
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> 01526C236M236 </b></div></div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Make
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> Toyota </b></div></div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Model
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> C00012 </b></div></div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Policy Dealer
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> LK-Dealer </b></div></div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Claim Dealer
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> C-Dealer </b></div></div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Total Claim Amount
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> 100000 LKR </b></div></div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Total Gross Claim Amount
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> 10000 LKR </b></div></div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="form-group">
                                <div class="col-md-2">
                                    <label class="control-label">
                                        Paid Amount
                                    </label>
                                </div>
                                <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> 150000 LKR </b></div></div>
                            </div>
                        </div>
                    

                    <div class="row">
                        <div class="panel-body">
                            <v-accordion class="vAccordion--default">

                                <!-- add expanded attribute to open the section -->
                                <v-pane disabled>
                                    <v-pane-header>

                                        Claim Item
                                    </v-pane-header>

                                    <v-pane-content>
                                        <!--<div class="row">-->
                                        <div style=" height: 300px; overflow-y: scroll">
                                            <table class="table table-bordered table-striped table-condensed " id="claimItemsTbl" style="margin-top: 5px;">
                                                <thead class="ngTableheader">
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Number</th>
                                                        <th>Qty</th>
                                                        <th>Unit Price</th>
                                                        <th>Price</th>
                                                        <th>Discount</th>
                                                        <th>Good-Will</th>
                                                        <th>Authorized</th>
                                                        <th>Comment</th>
                                                        <th>Failure</th>

                                                        <th>Status</th>
                                                        <th></th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="claimItem in claimProcess.claimItemList  track by $index" ng-class="validate_claimItemsTable">
                                                        <td align="center">{{claimItem.itemName}}</td>
                                                        <td align="center">{{claimItem.itemNumber}}</td>
                                                        <td align="center">{{claimItem.qty}}</td>
                                                        <td align="right">{{claimItem.unitPrice | number:2}}</td>
                                                        <td align="right">{{claimItem.totalPrice | number:2}}</td>
                                                        <td align="right">{{claimItem.discountAmount | number:2}}</td>
                                                        <td align="right">{{claimItem.goodWillAmount | number:2}}</td>
                                                        <td align="right">{{claimItem.authorizedAmount | number:2}}</td>
                                                        <td align="center">{{claimItem.comment}}</td>
                                                        <td align="center">{{claimItem.faultName}}</td>
                                                        <td align="center">{{claimItem.status}}</td>
                                                        <td>
                                                            <button class="btn btn-xs btn-primary"
                                                                    ng-click="showProcessClaimItem(claimItem.id)">
                                                                <i class="fa fa-edit"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <!--</div>-->
                                    </v-pane-content>
                                </v-pane>

                                <v-pane disabled>
                                    <v-pane-header>
                                        Assesment
                                    </v-pane-header>

                                    <v-pane-content>

                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="form-group">
                                                    <div class="col-md-4">
                                                        <label class="control-label">
                                                            Customer Complaint
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">:&nbsp;<div style="display:inline" ng-class=""><b>  </b></div></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group">
                                                    <div class="col-md-4">
                                                        <label class="control-label">
                                                            Dealer Comment
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">:&nbsp;<div style="display:inline" ng-class=""><b>  </b></div></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group">
                                                    <div class="col-md-4">
                                                        <label class="control-label">
                                                            Claim Engineer Assesment
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">:&nbsp;<div style="display:inline" ng-class=""><b>  </b></div></div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="form-group">
                                                    <div class="col-md-4">
                                                        <label class="control-label">
                                                            Conclusion
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">:&nbsp;<div style="display:inline" ng-class=""><b>  </b></div></div>
                                                </div>
                                            </div>


                                        </div>

                                    </v-pane-content>
                                </v-pane>

                                <v-pane disabled>
                                    <v-pane-header>
                                        Service History
                                    </v-pane-header>

                                    <v-pane-content>

                                        
                                            <div style=" height: 300px; overflow-y: scroll">
                                                <table id="serviceHistoryTable" class="table table-bordered table-striped table-condensed">
                                                    <thead class="ngTableheader">
                                                        <tr>
                                                            <th>#</th>
                                                            <th>Mileage(KM)</th>
                                                            <th>Date</th>
                                                            <th>Remark</th>
                                                            <th></th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="serviceRecord in itemServiceRecords track by $index">
                                                            <td align="center">{{serviceRecord.ServiceNumber}}</td>
                                                            <td align="center">{{serviceRecord.Milage}}</td>
                                                            <td align="center">{{serviceRecord.ServiceDate}}</td>
                                                            <td align="center">{{serviceRecord.Remarks}}</td>
                                                            <td align="center"><button class="btn-xs btn-warning" ng-disabled="!serviceRecord.canEdit" ng-click="updateServiceRecord(serviceRecord.Id)"><i class="fa fa-edit"></i></button></td>
                                                        </tr>
                                                        <!--<tr><td colspan="5" ng-show="itemServiceRecords.length == 0 || itemServiceRecords==null"> No service records found</td></tr>-->

                                                    </tbody>
                                                </table>
                                            </div>
                                        

                                    </v-pane-content>
                                </v-pane>

                                <v-pane disabled>
                                    <v-pane-header>
                                        Attachments
                                    </v-pane-header>

                                    <v-pane-content>

                                        
                                            <table class="table" style="margin-top: 18px">
                                                <thead>
                                                    <tr>
                                                        <td>
                                                            Type
                                                        </td>
                                                        <td>
                                                            File Name
                                                        </td>
                                                        <td>
                                                            Size
                                                        </td>
                                                        <td></td>


                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="item in docUploader.queue">
                                                        <td>
                                                            <span ng-bind="item.documentType"></span>
                                                        </td>
                                                        <td>
                                                            <span ng-bind="item.file.name"></span>
                                                        </td>
                                                        <td>
                                                            <span>{{item.file.size|byteToKB}}</span>
                                                        </td>
                                                        <td ng-hide="customerDisabled">
                                                            <button class="btn btn-xs btn-danger" ng-show="{{item.ref===undefined}}" ng-click="item.remove()">Remove</button>
                                                        </td>

                                                    </tr>
                                                </tbody>
                                            </table>
                                       

                                    </v-pane-content>
                                </v-pane>

                            </v-accordion>
                        </div>
                    </div>

                </div>

               

            </div>
        </div>
        <div class="col-md-6">
            <div class="panel panel-white no-radius">
                <div class="panel-heading border-light panelHeaderModifier">
                    <h6 class="panel-title TitleModifier">
                        CLAIM ENDORSEMENT
                    </h6>
                </div>
                <div class="panel-body">
                    
                    <div class="row">
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Policy No
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> P00025 </b></div></div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Claim No
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> C00012 </b></div></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Customer
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> Nimal Samaraweera </b></div></div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Vin/Serial
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> 01526C236M236 </b></div></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Make
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> Toyota </b></div></div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Model
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> C00012 </b></div></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Policy Dealer
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> LK-Dealer </b></div></div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Claim Dealer
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> C-Dealer </b></div></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Total Claim Amount
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> 100000 LKR </b></div></div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Total Gross Claim Amount
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> 10000 LKR </b></div></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <div class="col-md-2">
                                <label class="control-label">
                                    Paid Amount
                                </label>
                            </div>
                            <div class="col-md-4">:&nbsp;<div style="display:inline" ng-class=""><b> 150000 LKR </b></div></div>
                        </div>
                    </div>              
                    
                    <div class="row">
                        <div class="panel-body">
                            <v-accordion class="vAccordion--default">

                                <!-- add expanded attribute to open the section -->
                                <v-pane disabled>
                                    <v-pane-header>

                                        Claim Item
                                    </v-pane-header>

                                    <v-pane-content>
                                        <!--<div class="row">-->
                                        <div style=" height: 300px; overflow-y: scroll">
                                            <table class="table table-bordered table-striped table-condensed " id="claimItemsTbl" style="margin-top: 5px;">
                                                <thead class="ngTableheader">
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Number</th>
                                                        <th>Qty</th>
                                                        <th>Unit Price</th>
                                                        <th>Price</th>
                                                        <th>Discount</th>
                                                        <th>Good-Will</th>
                                                        <th>Authorized</th>
                                                        <th>Comment</th>
                                                        <th>Failure</th>

                                                        <th>Status</th>
                                                        <th></th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="claimItem in claimProcess.claimItemList  track by $index" ng-class="validate_claimItemsTable">
                                                        <td align="center">{{claimItem.itemName}}</td>
                                                        <td align="center">{{claimItem.itemNumber}}</td>
                                                        <td align="center">{{claimItem.qty}}</td>
                                                        <td align="right">{{claimItem.unitPrice | number:2}}</td>
                                                        <td align="right">{{claimItem.totalPrice | number:2}}</td>
                                                        <td align="right">{{claimItem.discountAmount | number:2}}</td>
                                                        <td align="right">{{claimItem.goodWillAmount | number:2}}</td>
                                                        <td align="right">{{claimItem.authorizedAmount | number:2}}</td>
                                                        <td align="center">{{claimItem.comment}}</td>
                                                        <td align="center">{{claimItem.faultName}}</td>
                                                        <td align="center">{{claimItem.status}}</td>
                                                        <td>
                                                            <button class="btn btn-xs btn-primary"
                                                                    ng-click="showProcessClaimItem(claimItem.id)">
                                                                <i class="fa fa-edit"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <!--</div>-->
                                    </v-pane-content>
                                </v-pane>

                                <v-pane disabled>
                                    <v-pane-header>
                                        Assesment
                                    </v-pane-header>

                                    <v-pane-content>

                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="form-group">
                                                    <div class="col-md-4">
                                                        <label class="control-label">
                                                            Customer Complaint
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">:&nbsp;<div style="display:inline" ng-class=""><b>  </b></div></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group">
                                                    <div class="col-md-4">
                                                        <label class="control-label">
                                                            Dealer Comment
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">:&nbsp;<div style="display:inline" ng-class=""><b>  </b></div></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group">
                                                    <div class="col-md-4">
                                                        <label class="control-label">
                                                            Claim Engineer Assesment
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">:&nbsp;<div style="display:inline" ng-class=""><b>  </b></div></div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="form-group">
                                                    <div class="col-md-4">
                                                        <label class="control-label">
                                                            Conclusion
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">:&nbsp;<div style="display:inline" ng-class=""><b>  </b></div></div>
                                                </div>
                                            </div>


                                        </div>

                                    </v-pane-content>
                                </v-pane>

                                <v-pane disabled>
                                    <v-pane-header>
                                        Service History
                                    </v-pane-header>

                                    <v-pane-content>


                                        <div style=" height: 300px; overflow-y: scroll">
                                            <table id="serviceHistoryTable" class="table table-bordered table-striped table-condensed">
                                                <thead class="ngTableheader">
                                                    <tr>
                                                        <th>#</th>
                                                        <th>Mileage(KM)</th>
                                                        <th>Date</th>
                                                        <th>Remark</th>
                                                        <th></th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="serviceRecord in itemServiceRecords track by $index">
                                                        <td align="center">{{serviceRecord.ServiceNumber}}</td>
                                                        <td align="center">{{serviceRecord.Milage}}</td>
                                                        <td align="center">{{serviceRecord.ServiceDate}}</td>
                                                        <td align="center">{{serviceRecord.Remarks}}</td>
                                                        <td align="center"><button class="btn-xs btn-warning" ng-disabled="!serviceRecord.canEdit" ng-click="updateServiceRecord(serviceRecord.Id)"><i class="fa fa-edit"></i></button></td>
                                                    </tr>
                                                    <!--<tr><td colspan="5" ng-show="itemServiceRecords.length == 0 || itemServiceRecords==null"> No service records found</td></tr>-->

                                                </tbody>
                                            </table>
                                        </div>


                                    </v-pane-content>
                                </v-pane>

                                <v-pane disabled>
                                    <v-pane-header>
                                        Attachments
                                    </v-pane-header>

                                    <v-pane-content>


                                        <table class="table" style="margin-top: 18px">
                                            <thead>
                                                <tr>
                                                    <td>
                                                        Type
                                                    </td>
                                                    <td>
                                                        File Name
                                                    </td>
                                                    <td>
                                                        Size
                                                    </td>
                                                    <td></td>


                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="item in docUploader.queue">
                                                    <td>
                                                        <span ng-bind="item.documentType"></span>
                                                    </td>
                                                    <td>
                                                        <span ng-bind="item.file.name"></span>
                                                    </td>
                                                    <td>
                                                        <span>{{item.file.size|byteToKB}}</span>
                                                    </td>
                                                    <td ng-hide="customerDisabled">
                                                        <button class="btn btn-xs btn-danger" ng-show="{{item.ref===undefined}}" ng-click="item.remove()">Remove</button>
                                                    </td>

                                                </tr>
                                            </tbody>
                                        </table>


                                    </v-pane-content>
                                </v-pane>

                            </v-accordion>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>


   
    </div>

  

