<div style="margin-left: 30px; margin-right: 30px" ng-app="clip-two" ng-controller="UserProfileCtrl as userController" ">
    <section id=" page-title" class="pageTitleModifier">
    <div class="row">
        <div class="col-sm-8">
            <h1 class="mainTitle TitleModifier">{{ModalName}}</h1>
            <span class="mainDescription TitleModifier">You can add or update user details here.</span>
        </div>
    </div>
    </section>
    <style>
        .my-form {
            -webkit-transition: all linear 0.5s;
            transition: all linear 0.5s;
            background: transparent;
        }

        .custom {
            height: 14px;
        }

        .error {
            color: red;
        }

        .ngdialog-content {
            width: 900px !important;
            height: 550px !important;
        }

        .grid {
            height: 200px;
        }

        .fixedHeight {
            height: 24px;
        }

        .btn {
            width: 100%;
        }
    </style>
    <!--<form action="#" role="form" id="form" name="myForm" class="my-form">-->
    <div name="myForm" class="my-form">
        <!-- start: HEADER -->
        <!-- end: HEADER -->
        <!-- start: MAIN CONTAINER -->
        <div class="main-container">
            <!-- start: PAGE -->
            <div class="main-content" style="margin-left: 0 !important;">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12">
                            <tabset class="tabbable">
                                <tab heading="Overview">
                                    <div class="row">
                                        <div class="col-sm-5 col-md-4">
                                            <div class="user-left">
                                                <div class="center">
                                                    <h4>{{user.FirstName}}&nbsp;{{user.LastName}}</h4>
                                                    <div flow-init="{singleFile:true}" flow-name="obj.flow" flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]">
                                                        <div class="user-image">
                                                            <div class="thumbnail">
                                                                <!--<img src="assets/images/default-user.png" alt="" ng-if="!obj.flow.files.length && noImage">-->
                                                                <img ng-src="data:image/JPEG;base64,{{userProfilePic}}" alt="" ng-if="!obj.flow.files.length && !noImage">
                                                                <img flow-img="obj.flow.files[0]" ng-if="obj.flow.files.length">
                                                            </div>
                                                            <div class="user-image-buttons" ng-if="obj.flow.files.length">
                                                                <span class="btn btn-primary" ng-click="ChangePicturePopup()"><i class="fa fa-pencil"></i></span>
                                                                <!--  <span class="btn btn-danger" ng-click="obj.flow.cancel()"> <i class="fa fa-times"></i> </span>-->
                                                            </div>
                                                            <div class="user-image-buttons" ng-if="!obj.flow.files.length">
                                                                <span class="btn btn-primary" ng-click="ChangePicturePopup()"><i class="fa fa-pencil"></i></span>
                                                                <!-- <span class="btn btn-danger" ng-if="!noImage" ng-click="removeImage()"><i class="fa fa-times"></i></span>-->
                                                            </div>

                                                        </div>

                                                        <div class="">
                                                            <span class="btn btn-default" ng-click="ChangePasswordPopup()">Change Passsword</span>
                                                        </div>
                                                    </div>
                                                    <!--<hr>
                                                    <p>
                                                        <a class="btn btn-twitter btn-sm btn-squared">
                                                            <i class="fa fa-twitter"></i>
                                                        </a>
                                                        <a class="btn btn-linkedin btn-sm btn-squared">
                                                            <i class="fa fa-linkedin"></i>
                                                        </a>
                                                        <a class="btn btn-google-plus btn-sm btn-squared">
                                                            <i class="fa fa-google-plus"></i>
                                                        </a>
                                                        <a class="btn btn-github btn-sm btn-squared">
                                                            <i class="fa fa-github"></i>
                                                        </a>
                                                    </p>
                                                    <hr>-->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-7 col-md-8">
                                            <table class="table table-condensed table-hover">
                                                <thead><tr><th colspan="3">Contact Information</th></tr></thead>
                                                <tbody>
                                                    <tr><td>Name        </td><td><span>{{user.FirstName}}&nbsp;{{user.LastName}} </span></td></tr>
                                                    <tr><td>E-mail      </td><td><span>{{user.Email}}                            </span></td></tr>
                                                    <tr><td>Phone       </td><td><span>{{user.MobileNo}}                         </span></td></tr>
                                                    <br />
                                                </tbody>
                                                <thead><tr><th colspan="3">General information</th></tr></thead>
                                                <tbody>
                                                    <tr><td>Gender      </td><td><span>{{user.g}}                          </span></td></tr>
                                                    <tr><td>Nationality </td><td><span>{{user.Nationality}}                     </span></td></tr>
                                                    <tr><td>Country     </td><td><span>{{user.Country}}                         </span></td></tr>
                                                    <tr>
                                                        <td>Address     </td>
                                                        <td>
                                                            <span>{{user.Address1}} {{user.Address2}} {{user.Address3}} {{user.Address4}}</span>
                                                        </td>
                                                    </tr>
                                                </tbody>


                                                <thead><tr><th colspan="3">Additional information</th></tr></thead>
                                                <tbody>
                                                    <tr><td>Date Of Birth</td><td><span>{{user.DateOfBirth | date:'dd MMMM yyyy'}}      </span></td></tr>
                                                    <tr>
                                                        <td>ID No</td>
                                                        <td>
                                                            <span>{{user.IDType}}                                 </span>
                                                            <!--<span>&nbsp; : &nbsp;                                 </span>-->
                                                            <span>{{user.IDNo}}                                   </span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </tab>
                                <tab heading="Edit Account" active="editActive">
                                    <form action="#" role="form" id="form">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        First Name
                                                    </label><span class="error" ng-show="myForm.firstname.$error.required">*</span>
                                                    <input type="text" placeholder="First Name" class="form-control" id="firstname" name="firstname" ng-model="user.FirstName" ng-blur="blurValidateCharater()" ng-mouseenter="blurValidateCharater()" required>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Last Name
                                                    </label>
                                                    <input type="text" placeholder="Last Name" class="form-control" id="lastname" name="lastname" ng-model="user.LastName" ng-blur="blurValidateCharater()" ng-mouseenter="blurValidateCharater()">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label" for="form-field-1">
                                                        Nationality
                                                    </label><span class="error" ng-show="myForm.Nationality.$error.required">*</span>
                                                    <select name="Nationality" id="drpNationality" class="form-control" ng-model="user.NationalityId"
                                                            ng-options="n.Id as n.NationalityName for n in Nationalities"
                                                            ng-change="SetNationalityValue()"
                                                            required>
                                                        <option value=""> Please Select </option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label" for="form-field-1">
                                                        Country
                                                    </label><span class="error" ng-show="myForm.Country.$error.required">*</span>
                                                    <select name="Country" id="drpCountry" class="form-control" ng-model="user.CountryId"
                                                            ng-options="c.Id as c.CountryName for c in countries"
                                                            ng-change="SetCountryValue()"
                                                            required>
                                                        <option value=""> Please Select </option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Mobile Phone
                                                    </label><span class="error" ng-show="myForm.mobilePhone.$error.required">*</span>
                                                    <input type="tel" placeholder="Mobile Phone" class="form-control" id="mobilePhone" name="mobilePhone" ng-model="user.MobileNo" required>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Other Phone
                                                    </label>
                                                    <input type="tel" placeholder="Other Phone" class="form-control" id="otherPhone" name="otherPhone" ng-model="user.OtherTelNo">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Email Address
                                                    </label><span class="error" ng-show="myForm.email.$error.required">*</span>
                                                    <input type="email" placeholder="peter@example.com" class="form-control" id="email" name="email" ng-model="user.Email" ng-blur="blurValidateCharater()" ng-mouseenter="blurValidateCharater()" required>
                                                    <!--<span class="error" ng-show="myForm.email.$error.email">
                                                        Not valid email!
                                                    </span>-->
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Date Of Birth
                                                    </label>
                                                    <input type="text" placeholder="Click for Calendar" class="form-control" ng-model="user.DateOfBirth" max-date="MaxDate" datepicker-popup="dd-MMM-yyyy" datepicker-localdate
                                                           ng-click="startOpenb = !startOpenb" is-open="startOpenb" ng-init="startOpenb = false" close-text="Close" />
                                                    <!--<input type="datetime" placeholder="Click for Calendar" class="form-control" ng-model="user.DateOfBirth" datepicker-popup="dd-MMM-yyyy" datepicker-localdate ng-click="startOpen = !startOpen" is-open="startOpen" ng-init="startOpen = false" close-text="Close" ng-blur="SetDateofBirth()" />-->
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Gender
                                                    </label>
                                                    <div>
                                                        <label class="radio-inline">
                                                            <input type="radio" class="grey" value="F" name="gender" id="gender_female" ng-model="user.Gender">
                                                            Female
                                                        </label>
                                                        <label class="radio-inline">
                                                            <input type="radio" class="grey" value="M" name="gender" id="gender_male" ng-model="user.Gender">
                                                            Male
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label" for="form-field-1">
                                                        Id Type
                                                    </label><span class="error" ng-show="myForm.IdType.$error.required">*</span>
                                                    <select name="IdType" id="drpIdType" class="form-control" ng-model="user.IDTypeId"
                                                            ng-options="n.Id as n.IdTypeName for n in IdTypes"
                                                            ng-change="SetIdTypeValue()"
                                                            required>
                                                        <option value=""> Please Select </option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        ID No.
                                                    </label><span class="error" ng-show="myForm.IdNo.$error.required">*</span>
                                                    <input type="text" placeholder="ID No" class="form-control" id="IdNo" name="IdNo" ng-model="user.IDNo" required>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Driving License Issue Date
                                                    </label>
                                                    <input type="datetime" placeholder="Click for Calendar" class="form-control" ng-model="user.DLIssueDate" datepicker-popup="dd-MMM-yyyy" datepicker-localdate ng-click="startOpen = !startOpen" is-open="startOpen" ng-init="startOpen = false" close-text="Close" />
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Address
                                                    </label>
                                                    <input type="text" placeholder="Address1" class="form-control" id="Address1" name="Address1" ng-model="user.Address1">
                                                    <input type="text" placeholder="Address2" class="form-control" id="Address2" name="Address2" ng-model="user.Address2">
                                                    <input type="text" placeholder="Address3" class="form-control" id="Address3" name="Address3" ng-model="user.Address3">
                                                    <input type="text" placeholder="Address4" class="form-control" id="Address4" name="Address4" ng-model="user.Address4">
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <hr>
                                            </div>
                                            <!--<div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Password
                                                    </label>
                                                    <input type="password" placeholder="password" class="form-control" name="password" id="password" ng-blur="checkPasswordMatch()" ng-model="user.Password">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        Confirm Password
                                                    </label>
                                                    <input type="password" placeholder="password" class="form-control" id="password_again" ng-model="passwordAgain" name="confirm_password" ng-blur="checkPasswordMatch()" data-password-verify="user.Password">
                                                    <span class="error" ng-show="validation.password">Passwords does not match!</span>
                                                </div>
                                            </div>-->
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4">
                                            </div>
                                            <div class="col-md-4">
                                                <span ng-show="myForm.$error.required || validation.userName ">Please fill all the required fields to submit!</span>
                                                <span class="text-danger">{{changeCharacterValidateErrorMsg}}</span>
                                                <input type="button" id="submit" class="btn btn-primary btn-block" ng-disabled="myform.$error  || validation.userName" value="Update" ng-click="UserSubmit()" />
                                            </div>
                                        </div>
                                    </form>
                                </tab>

                            </tabset>
                        </div>
                    </div>
                    <!-- end: PAGE CONTENT-->
                </div>
            </div>
            <!-- end: PAGE -->

            <script type="text/ng-template" id="pop-changeProfilePic">
                <div class="ngdialog-message" style="width:100px">
                    <!--<h3>Search User</h3>-->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Select Picture</label>
                                <input type="file"
                                       ng-model="userProfilePic"
                                       uploader="uploader1" nv-file-select="" />
                            </div>
                        </div>

                    </div>
                    <div class="ngdialog-buttons">
                        <input type="button" class="ngdialog-button ngdialog-button-primary" ng-click="uploadImage()" value="Upload">
                    </div>
                </div>
            </script>
            <script type="text/ng-template" id="pop-changePassword">
                <div class="ngdialog-message">
                    <!--<h3>Search User</h3>-->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Old Password</label>
                                <input type="password"
                                       class="form-control" ng-model="changePasswordModel.oldPassword" />
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">New Password</label>
                                <input type="password"
                                       class="form-control" ng-model="changePasswordModel.newPassword" />
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Confirm Password</label>
                                <input type="password"
                                       class="form-control" ng-model="changePasswordModel.confirmPassword" />
                            </div>
                        </div>

                    </div>
                    <div class="ngdialog-buttons">
                        <input type="button" class="ngdialog-button ngdialog-button-primary" ng-click="changePassword()" value="Change Password">

                    </div>
                    <span class="text-danger">{{changePasswordErrorMsg}}</span>
                </div>
            </script>
            <style>
                .ngdialog-content {
                    width: 300px !important;
                    height: auto !important;
                }
            </style>
        </div>
        <!-- end: MAIN CONTAINER -->
        <!--</form>-->
        </div>
    </div>
