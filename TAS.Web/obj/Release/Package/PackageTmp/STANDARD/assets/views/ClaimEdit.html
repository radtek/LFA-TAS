<div ng-app="LFA" ng-controller="ClaimEditCtrl as claimEditController" ng-init="loadInitailData()">
    <style>
        #page-title {
            padding: 20px 0;
        }


        .has-error {
            border: solid 1px #e84e4e !important;
            /*#fbaa2b*/
        }

        #serviceHistoryTable > tbody > tr > td {
            height: 25px;
            padding: 0px;
            border-top: 0px;
        }


        .input-sm {
            height: 25px !important;
            font-size: 11px;
        }

        .continental-color {
            background-color: #ffa500 !important;
            color: black;
        }

        .continental-color-abs {
            color: #ffa500 !important;
        }

        .img-responsive {
            margin: 0 auto;
            height: 300px;
        }

        .container-center {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .btn-img-fl {
            position: absolute;
            top: 20%;
            left: 18%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
        }

        .div-img-fl {
            position: absolute;
            top: 20%;
            left: -16%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            box-shadow: 2px 2px;
            overflow-y: scroll;
        }

        .div-img-fr {
            position: absolute;
            top: 20%;
            left: 118%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            box-shadow: 2px 2px;
            overflow-y: scroll;
        }

        .div-img-br {
            position: absolute;
            top: 80%;
            left: 118%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            box-shadow: 2px 2px;
            overflow-y: scroll;
        }

        .div-img-bl {
            position: absolute;
            top: 80%;
            left: -16%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            box-shadow: 2px 2px;
            overflow-y: scroll;
        }

        .btn-img-rl {
            position: absolute;
            top: 80%;
            left: 18%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
        }


        .btn-img-fr {
            position: absolute;
            top: 20%;
            left: 82%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
        }

        .btn-img-rr {
            position: absolute;
            top: 80%;
            left: 82%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
        }
    </style>
    <section id="page-title">
        <div class="row">
            <div class="col-sm-8">
                <h1 class="mainTitle TitleModifier">CLAIM EDIT</h1>
                <span class="mainDescription TitleModifier">You can edit a claim here.</span>
            </div>
            <div class="col-md-4">
                <a class="btn btn-info pull-right" href="#/app/claim/listing" style="margin-top: 15px">Back To Claim Listing</a>
            </div>
        </div>
    </section>
    <div class="row">
        <div class="col-md-6">
            <div class="alert alert-success">
                <h5>
                    Policy Number : <strong>{{currentPolicy.PolicyNumber}}</strong>
                    <span class="btn btn-sm btn-grey pull-right inline-block" ng-click="viewPolicyDetails()"> View Policy</span>
                </h5>

            </div>
        </div>
        <div class="col-md-6" ng-show="!isOtherProductSelected">
            <div class="alert alert-success">
                <h4>Total Claim Amount : <strong>{{TotalClaimAmount | number : 2}} {{dealer.currencyCode}}</strong></h4>
            </div>

        </div>

    </div>
    <div class="row" ng-hide="isOtherProductSelected">
        <div class="col-md-6">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Customer Name<span class="symbol required"></span>
                    </label>
                    <input type="text" class="form-control  input-sm"
                           ng-class="" ng-model="claimSubmission.customerName" />

                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Failure Date<span class="symbol required"></span>
                    </label>
                    <input type="text" ng-readonly="true" placeholder="Click for Calendar"
                           class="form-control  input-sm" ng-model="claimSubmission.failureDate" ng-class=""
                           datepicker-popup="dd-MMM-yyyy" datepicker-localdate ng-click="startOpen2 = !startOpen2"
                           is-open="startOpen2" ng-init="startOpen2 = false" close-text="Close" />

                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Failure Mileage<span class="symbol required"></span>
                    </label>
                    <div class="input-group">
                        <input type="number" class="form-control  input-sm" allow-pattern="(\d)"
                               ng-model="claimSubmission.failureMileage" ng-class="">
                        <span class="input-group-addon input-sm">KM</span>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Last Service Date<span class="symbol required"></span>
                    </label>
                    <input type="text" ng-readonly="true" placeholder="Click for Calendar"
                           class="form-control  input-sm" ng-model="claimSubmission.lastServiceDate" ng-class=""
                           datepicker-popup="dd-MMM-yyyy" datepicker-localdate ng-click="startOpen3 = !startOpen3"
                           is-open="startOpen3" ng-init="startOpen3 = false" close-text="Close" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Last Service Mileage<span class="symbol required"></span>
                    </label>
                    <div class="input-group">
                        <input type="number" class="form-control  input-sm" ng-model="claimSubmission.lastServiceMileage" allow-pattern="(\d)"
                               ng-class="">
                        <span class="input-group-addon input-sm">KM</span>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>

            <v-accordion class="vAccordion--default" multiple>

                <!-- add expanded attribute to open the section -->
                <v-pane disabled>
                    <v-pane-header>

                        Fault Part
                    </v-pane-header>

                    <v-pane-content>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">
                                        Part Area<span class="symbol required"></span>
                                    </label>
                                    <select class="form-control  input-sm  input-sm" ng-model="currentPart.partAreaId"
                                            ng-change="selectedPartAreaChanged()" ng-class="validate_partArea">
                                        <option value="00000000-0000-0000-0000-000000000000"> Please Select </option>
                                        <option ng-repeat="option in partAreas" value="{{option.Id}}"
                                                ng-selected="currentPart.partAreaId==option.Id">
                                            {{option.PartAreaCode +'-'+ option.PartAreaName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">
                                        Part Name<span class="symbol required"></span>
                                    </label>

                                    <!--<p>Selected: {{currentPart.partAreaId}}</p>-->
                                    <ui-select ng-model="part.selected"
                                               theme="bootstrap"
                                               ng-disabled=""
                                               reset-search-input="false"
                                               style="width: 100%;"
                                               on-select="selectedPartChanged($item)">
                                        <ui-select-match placeholder="Enter Part Name..." ng-class="validatepart">{{$select.selected.PartName}}</ui-select-match>
                                        <ui-select-choices repeat="part in parts track by $index"
                                                           refresh-delay="0">
                                            <div ng-bind-html="part.PartCode +'-'+ part.PartName | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>

                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Part Number<span class="symbol required"></span>
                                    </label>

                                    <input type="text" class="form-control  input-sm "
                                           ng-model="currentPart.partNumber" ng-disabled="true">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="control-label">

                                        Qty<span class="symbol required"></span>
                                    </label>
                                    <input type="number" class="form-control  input-sm " ng-class=validate_partQty
                                           ng-model="currentPart.partQty">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">
                                        Unit Price<span class="symbol required"></span>
                                    </label>
                                    <div class="input-group">
                                        <input type="number" placeholder="Part Price" class="form-control input-sm text-right"
                                               ng-model="currentPart.unitPrice" allow-pattern="(\d)" ng-class="validate_unitPrice"
                                               step="1">
                                        <span class="input-group-addon">{{dealer.currencyCode}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">
                                        Remarks
                                    </label>

                                    <input type="text" class="form-control "
                                           ng-model="currentPart.remark">
                                </div>
                            </div>
                            <!--<div class="col-md-8">
                                <p>Part is not listed? <a>Add New Part</a></p>
                            </div>-->
                            <div class="col-md-4">
                                <button class="btn  btn-info " style="width:100%" ng-click="addPart()">Add >></button>
                            </div>
                        </div>
                    </v-pane-content>
                </v-pane>

                <v-pane disabled>
                    <v-pane-header>
                        Labour Charges
                    </v-pane-header>

                    <v-pane-content>
                        <div class="row">
                            <div class="col-md-7">
                                <div class="form-group">
                                    <label class="control-label">
                                        Payment Charge Type<span class="symbol required"></span>
                                    </label>
                                    <div>
                                        <label class="radio-inline">
                                            <input type="radio" value="H" ng-class="validate_chargeType" ng-model="labourCharge.chargeType">
                                            Hourly Payment
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" value="F" ng-class="validate_chargeType" ng-model="labourCharge.chargeType">
                                            Fixed Payment
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group">
                                    <label class="control-label">
                                        {{labourCharge.chargeType=='H'?'Hourly Rate':'Amount'}}<span class="symbol required"></span>
                                    </label>
                                    <div class="input-group">
                                        <input type="number" class="form-control  input-sm text-right"
                                               ng-model="labourCharge.hourlyRate" ng-class="validate_hourlyRate">
                                        <span class="input-group-addon">{{dealer.currencyCode}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12" ng-hide="labourCharge.chargeType=='H'">
                                <div class="form-group">
                                    <label class="control-label">
                                        Work Description
                                    </label>

                                    <input type="text" class="form-control  input-sm text-right"
                                           ng-model="labourCharge.description">

                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-md-4" ng-show="labourCharge.chargeType=='H'">
                                <div class="form-group">
                                    <label class="control-label">
                                        Hours Worked<span class="symbol required"></span>
                                    </label>
                                    <input type="number" class="form-control  input-sm text-right"
                                           ng-model="labourCharge.hours" ng-class="validate_hours">
                                </div>
                            </div>
                            <div class="col-md-8" ng-show="labourCharge.chargeType=='H'">
                                <div class="form-group">
                                    <label class="control-label">
                                        Work Description
                                    </label>

                                    <input type="text" class="form-control  input-sm "
                                           ng-model="labourCharge.description">

                                </div>
                            </div>

                            <div class="col-md-4 col-md-offset-8">
                                <button class="btn  btn-info " style="width:100%" ng-click="addLabourCharge()">Add >></button>
                            </div>
                        </div>
                    </v-pane-content>
                </v-pane>

                <v-pane disabled>
                    <v-pane-header>
                        Sundries
                    </v-pane-header>

                    <v-pane-content>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">
                                        Name<span class="symbol required"></span>
                                    </label>

                                    <input type="text" class="form-control  input-sm "
                                           ng-model="sundry.name" ng-class="validate_sundryName">

                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">
                                        Value<span class="symbol required"></span>
                                    </label>
                                    <div class="input-group">
                                        <input type="number" class="form-control  input-sm text-right"
                                               ng-model="sundry.value" ng-class="validate_sundryValue">
                                        <span class="input-group-addon">{{dealer.currencyCode}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-md-offset-8">
                                <button class="btn  btn-info " style="width:100%" ng-click="addSundry()">Add >></button>
                            </div>
                        </div>
                    </v-pane-content>
                </v-pane>

                <v-pane disabled>
                    <v-pane-header>
                        Service History
                    </v-pane-header>

                    <v-pane-content>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label class="control-label">
                                    Service No.<span class="symbol required"></span>
                                </label>
                                <div class="input-group">
                                    <input type="number" class="form-control  input-sm text-right"
                                           ng-model="serviceRecord.serviceNumber" ng-class="validate_serviceNumber">

                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">
                                    Service Date<span class="symbol required"></span>
                                </label>


                                <input type="text" ng-readonly="true" ng-disabled="customerDisabled" placeholder="Click for Calendar" class="form-control  input-sm" ng-model="serviceRecord.serviceDate" ng-class="validate_serviceDate"
                                       datepicker-popup="dd-MMM-yyyy" datepicker-localdate ng-click="startOpen2 = !startOpen2" is-open="startOpen2" ng-init="startOpen2 = false" close-text="Close" />

                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group">
                                <label class="control-label">
                                    Service Milage<span class="symbol required"></span>
                                </label>
                                <div class="input-group">
                                    <input type="number" class="form-control  input-sm text-right"
                                           ng-model="serviceRecord.milage" ng-class="validate_milage">
                                    <span class="input-group-addon">KM</span>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-10">
                            <div class="form-group">
                                <label class="control-label">
                                    Remark
                                </label>

                                <input type="text" class="form-control  input-sm text-right"
                                       ng-model="serviceRecord.remarks" ng-class="">

                            </div>
                        </div>
                        <div class="col-md-2">
                            <button class="btn  btn-info btn-sm " style="width:100% ;margin-top:25px" ng-click="addServiceHistory()">Add</button>
                        </div>

                        <div class="col-md-12" style="height:250px;overflow:scroll">
                            <h5>Service History</h5>
                            <table id="serviceHistoryTable" class="table table-bordered table-striped ">
                                <thead class="ngTableheader">
                                    <tr>
                                        <th>#</th>
                                        <th>Milage(KM)</th>
                                        <th>Date</th>
                                        <th>Remark</th>
                                        <th></th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="serviceRecord in itemServiceRecords track by $index">
                                        <td align="center">{{serviceRecord.ServiceNumber}}</td>
                                        <td align="center">{{serviceRecord.Milage}}</td>
                                        <td align="center">{{serviceRecord.ServiceDate}}</td>
                                        <td align="center">{{serviceRecord.Remarks}}</td>
                                        <td align="center"><button class="btn-xs btn-warning" ng-disabled="!serviceRecord.canEdit" ng-click="updateServiceRecord(serviceRecord.Id)"><i class="fa fa-edit"></i></button></td>
                                    </tr>
                                    <tr><td colspan="5" ng-show="itemServiceRecords.length == 0 || itemServiceRecords==null"> No service records found</td></tr>

                                </tbody>
                            </table>
                        </div>
                    </v-pane-content>
                </v-pane>

                <v-pane disabled>
                    <v-pane-header>
                        Customer Complaint
                    </v-pane-header>

                    <v-pane-content>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">
                                        Customer Complaint
                                    </label>
                                    <textarea placeholder="Customer Complaint" ng-model="complaint.customer"
                                              style="height:75px" class="form-control" rows="3" cols="4"
                                              ng-class="validate_customerComplaint" />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">
                                        Dealer Comment
                                    </label>
                                    <textarea placeholder="Dealer Comment" style="height:75px"
                                              ng-model="complaint.dealer" class=" form-control" rows="3" cols="4"
                                              ng-class="validate_dealerComment" />
                                </div>
                            </div>
                        </div>
                    </v-pane-content>
                </v-pane>

                <v-pane disabled>
                    <v-pane-header>
                        Attachments
                    </v-pane-header>
                    <v-pane-content>
                        <div class="row">

                            <div class="col-md-12 pull-left">
                                <div class="form-group" ng-hide="customerDisabled">
                                    <label class="control-label" for="form-field-1">
                                        Attachment Type
                                    </label>
                                    <select class="form-control input-sm" ng-model="currentPolicy.docAttachmentType">
                                        <option value=""> Please Select </option>
                                        <option ng-repeat="option in docAttachmentTypes" value="{{option.AttachmentTypeCode}}"
                                                ng-selected="docAttachmentType==option.Id">
                                            {{option.AttachmentTypeDescription}}
                                        </option>
                                    </select>
                                    <span class="btn btn-primary btn-o btn-file btn-xs" style="margin-top:5px">
                                        Select file
                                        <input type="file" nv-file-select="" options="{ documentType: currentPolicy.docAttachmentType }" uploader="docUploader" />
                                    </span>
                                    <button class="btn btn-primary btn-o btn-file btn-xs" style="margin-top:5px" ng-click="scannerPopUp('0')">
                                        Scan Document {{ImageArray.length == 0 ? "":" | ("+ImageArray.length+")"}}
                                    </button>
                                </div>

                            </div>
                            <div class="col-md-12 pull-left">
                                <table class="table" style="margin-top: 18px">
                                    <thead>
                                        <tr>
                                            <td>
                                                Type
                                            </td>
                                            <td>
                                                File Name
                                            </td>
                                            <td>
                                                Size
                                            </td>
                                            <td></td>
                                            <td></td>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in docUploader.queue">
                                            <td>
                                                <span ng-bind="item.documentType"></span>
                                            </td>
                                            <td>
                                                <span ng-bind="item.file.name"></span>
                                            </td>
                                            <td>
                                                <span>{{item.file.size|byteToKB}}</span>
                                            </td>
                                            <td>
                                                <button class="btn btn-xs btn-danger" ng-show="{{item.ref===undefined}}" ng-click="item.remove()"><i class="fa fa-trash"></i></button>
                                                <button class="btn btn-xs btn-danger" ng-hide="{{item.ref===undefined}}" ng-click="removeAttachment(item.ref)"><i class="fa fa-trash"></i></button>

                                            </td>
                                            <td>
                                                <button class="btn btn-xs btn-info" ng-hide="{{item.ref===undefined}}" ng-click="downloadAttachment(item.ref)"><i class="fa fa-download"></i></button>

                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>



                    </v-pane-content>
                </v-pane>


            </v-accordion>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <label class="control-label">
                            Comment
                        </label>
                        <textarea placeholder="Comment" ng-model="commentDealer"
                                  style="height:75px" class="form-control" rows="3" cols="4"
                                  ng-class="" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">


            <div class="clearfix"></div>
            <h5>Claim Item List</h5>
            <table class="table table-bordered table-striped ">
                <thead class="ngTableheader">
                    <tr>
                        <th>Item Name</th>
                        <th>Item Number</th>
                        <th>Qty</th>
                        <th>Unit Price ({{dealer.currencyCode}})</th>
                        <th>Price ({{dealer.currencyCode}})</th>
                        <th></th>

                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="claimItem in claimItemList track by $index">
                        <td>{{claimItem.itemName}}</td>
                        <td>{{claimItem.itemNumber}}</td>
                        <td align="right">{{claimItem.qty}}</td>
                        <td align="right">{{claimItem.unitPrice}}</td>
                        <td align="right">{{claimItem.totalPrice}}</td>
                        <td align="right">
                            <!--<button class="btn-xs btn-info" ng-click="" title="view remark"><i class="fa fa-comment"></i></button>-->

                            <button class="btn-xs btn-danger" ng-click="removeClaimItem(claimItem.id)"><i class="fa fa-trash"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <input type="button" class="btn btn-primary pull-right" value="Update Claim" ng-click="updateClaim()">

        </div>

    </div>

    <div class="row" ng-show="isOtherProductSelected">
        <div class="col-md-6">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Customer Name<span class="symbol required"></span>
                    </label>
                    <input type="text" class="form-control  input-sm"
                           ng-class="" ng-model="claimSubmission.customerName" disabled/>

                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Plate Number<span class="symbol required"></span>
                    </label>
                    <input type="text" ng-model="currentPolicy.plateNumber" ng-disabled="plateNumberDisabled"
                           ng-class="validate_plateNumber" class="form-control  input-sm" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Failure Date<span class="symbol required"></span>
                    </label>
                    <input type="text" ng-readonly="true" placeholder="Click for Calendar"
                           class="form-control  input-sm" ng-model="claimSubmission.failureDate" ng-class=""
                           datepicker-popup="dd-MMM-yyyy" datepicker-localdate ng-click="startOpen2 = !startOpen2"
                           is-open="startOpen2" ng-init="startOpen2 = false" close-text="Close" />

                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="control-label">
                        Failure Mileage<span class="symbol required"></span>
                    </label>
                    <div class="input-group">
                        <input type="number" class="form-control  input-sm" allow-pattern="(\d)"
                               ng-model="currentPolicy.failureMileage" ng-class="validate_failureMileage">
                        <span class="input-group-addon input-sm">KM</span>
                    </div>
                </div>
            </div>

            <div class="clearfix"></div>
            <!--<div class="col-md-12" ng-show="isOtherProductSelected">
        <div class="form-group">
            <label class="control-label">
                Customer Complaint <span class="symbol required"></span>
            </label>
            <select class="form-control  input-sm  input-sm" ng-model="dealerInvoiceTireDetails.customerComplaintId"
                    ng-change="" ng-class="validate_customerComplaintId">
                <option value=""> Please Select </option>
                <option ng-repeat="option in CustomerComplaints" value="{{option.Id}}"
                        ng-selected="currentPart.customerComplaints==option.Id">
                    {{option.Complaint}}
                </option>
            </select>
        </div>
    </div>-->
            <div class="col-md-12" ng-show="isOtherProductSelected">
                <div class="form-group">
                    <label class="control-label">
                        Dealer Comment <span class="symbol required"></span>
                    </label>
                    <select class="form-control  input-sm  input-sm" ng-model="dealerInvoiceTireDetails.dealerComment"
                            ng-change="" ng-class="validate_dealerCommentId">
                        <option value=""> Please Select </option>
                        <option ng-repeat="option in DealerComments" value="{{option.Comment}}"
                                ng-selected="currentPart.dealerComments==option.Comment">
                            {{option.Comment}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="col-md-12 pull-left" ng-show="isOtherProductSelected">
                <div class="form-group" ng-hide="customerDisabled">
                    <label class="control-label" for="form-field-1">
                        Attachment Type
                    </label>
                    <select class="form-control input-sm" ng-model="currentPolicy.docAttachmentType">
                        <option value=""> Please Select </option>
                        <option ng-repeat="option in docAttachmentTypes" value="{{option.AttachmentTypeCode}}"
                                ng-selected="currentPolicy.docAttachmentType==option.AttachmentTypeCode">
                            {{option.AttachmentTypeDescription}}
                        </option>
                    </select>
                    <span class="btn btn-primary btn-o btn-file btn-xs" style="margin-top: 5px">
                        Select file
                        <input type="file" nv-file-select="" options="{ documentType:currentPolicy.docAttachmentType }"
                               uploader="docUploader" />
                    </span>
                    <!--<button class="btn btn-primary btn-o btn-file btn-xs" style="margin-top:5px" ng-click="scannerPopUp('0')">
                        Scan Document {{ImageArray.length == 0 ? "":" | ("+ImageArray.length+")"}}
                    </button>-->
                </div>

            </div>
            <div class="col-md-12 pull-left" ng-show="isOtherProductSelected">
                <table class="table" style="margin-top: 18px">
                    <thead>
                        <tr>
                            <td>
                                Type
                            </td>
                            <td>
                                File Name
                            </td>
                            <td>
                                Size
                            </td>
                            <td></td>


                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in docUploader.queue">
                            <td>
                                <span ng-bind="item.documentType"></span>
                            </td>
                            <td>
                                <span ng-bind="item.file.name"></span>
                            </td>
                            <td>
                                <span>{{item.file.size|byteToKB}}</span>
                            </td>
                            <!--<td ng-hide="customerDisabled">
        <button class="btn btn-xs btn-danger" ng-show="{{item.ref===undefined}}" ng-click="item.remove()">Remove</button>
        <button class="btn btn-xs btn-danger" ng-hide="{{item.ref===undefined}}" ng-click="removeAttachment(item.ref)"><i class="fa fa-trash"></i></button>
    </td>-->
                            <td>
                                <button class="btn btn-xs btn-danger" ng-show="{{item.ref===undefined}}" ng-click="item.remove()"><i class="fa fa-trash"></i></button>
                                <button class="btn btn-xs btn-danger" ng-hide="{{item.ref===undefined}}" ng-click="removeAttachment(item.ref)"><i class="fa fa-trash"></i></button>

                            </td>
                            <td>
                                <button class="btn btn-xs btn-info" ng-hide="{{item.ref===undefined}}" ng-click="downloadAttachment(item.ref)"><i class="fa fa-download"></i></button>

                            </td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-md-6">
            <div class="col-md-12" ng-show="isOtherProductSelected">
                <h3>Fault Tyre(s)</h3>

                <div class="col-md-8 col-md-offset-2" style="margin-top:20px;">
                    <img src="../STANDARD/assets/images/car-tyre.png"
                         class="img-responsive" />


                    <button class='btn btn-sm continental-color btn-img-rl' ng-disabled="backleftPositionDisabled" ng-click="openFrontTireDetails('L','B')">
                        Back Left
                    </button>

                    <button class='btn btn-sm continental-color btn-img-fr' ng-disabled="frontrightPositionDisabled" ng-click="openFrontTireDetails('R','F')">
                        Front Right
                    </button>
                    <button class='btn btn-sm continental-color btn-img-rr' ng-disabled="backrightPositionDisabled" ng-click="openFrontTireDetails('R','B')">
                        Back Right
                    </button>

                    <button class='btn btn-sm continental-color btn-img-fl' ng-disabled="frontleftPositionDisabled" ng-click="openFrontTireDetails('L','F')">
                        Front Left
                    </button>


                    <div class="div-img-fl" ng-show="isFrontLeftTireDetailsVisible || dataLoadMode" style="width:150px;height:150px;z-index:50;border:solid 1px;padding:5px 5px 5px 5px">

                        <h5>Tyre Serial Number :</h5>

                        <input class="form-control" ng-model="dealerInvoiceTireDetailsarr.frontLeft.serial" ng-change="frontTireEntry()"
                               placeholder="Serial Number" type="text" allow-pattern="(\d|\.[0-9]{1,2})" style="display:inline-block" ng-class="frontTyreLeftSerialValidation" />
                        <h5>Unused Tyre Depth :</h5>

                        <div class="input-group">
                            <input type="text" class="form-control "
                                   ng-class="validate_unusedTyreDepth" ng-model="dealerInvoiceTireDetailsarr.frontLeft.unusedTyreDepth" />
                            <span class="input-group-addon ">&nbsp;mm&nbsp;</span>
                        </div>
                    </div>
                    <div class="div-img-fr" ng-show="isFrontRightTireDetailsVisible || dataLoadMode" style="width:150px;height:150px;z-index:50;border:solid 1px;padding:5px 5px 5px 5px">

                        <h5>Tyre Serial Number :</h5>

                        <input class="form-control" ng-model="dealerInvoiceTireDetailsarr.frontRight.serial" ng-change="frontTireEntry()"
                               placeholder="Serial Number" type="text" allow-pattern="(\d|\.[0-9]{1,2})" style="display:inline-block" ng-class="frontTyreRightSerialValidation" />
                        <h5>Unused Tyre Depth :</h5>

                        <div class="input-group">
                            <input type="text" class="form-control "
                                   ng-class="validate_unusedTyreDepth" ng-model="dealerInvoiceTireDetailsarr.frontRight.unusedTyreDepth" />
                            <span class="input-group-addon ">&nbsp;mm&nbsp;</span>
                        </div>
                    </div>
                    <div class="div-img-br" ng-show="isBackRightTireDetailsVisible || dataLoadMode" style="width:150px;height:150px;z-index:50;border:solid 1px;padding:5px 5px 5px 5px">

                        <h5>Tyre Serial Number :</h5>

                        <input class="form-control" ng-model="dealerInvoiceTireDetailsarr.backRight.serial" ng-change="rearTireEntry()"
                               placeholder="Serial Number" type="text" allow-pattern="(\d|\.[0-9]{1,2})" style="display:inline-block" ng-class="backTyreSerialRightValidation" />

                        <h5>Unused Tyre Depth :</h5>

                        <div class="input-group">
                            <input type="text" class="form-control "
                                   ng-class="validate_unusedTyreDepth" ng-model="dealerInvoiceTireDetailsarr.backRight.unusedTyreDepth" />
                            <span class="input-group-addon ">&nbsp;mm&nbsp;</span>
                        </div>

                    </div>
                    <div class="div-img-bl" ng-show="isBackLeftTireDetailsVisible || dataLoadMode" style="width:150px;height:150px;z-index:50;border:solid 1px;padding:5px 5px 5px 5px">

                        <h5>Tyre Serial Number :</h5>

                        <input class="form-control" ng-model="dealerInvoiceTireDetailsarr.backLeft.serial" ng-change="rearTireEntry()"
                               placeholder="Serial Number" type="text" allow-pattern="(\d|\.[0-9]{1,2})" style="display:inline-block"
                               ng-class="backTyreSerialLeftValidation" />
                        <h5>Unused Tyre Depth :</h5>

                        <div class="input-group">
                            <input type="text" class="form-control "
                                   ng-class="validate_unusedTyreDepth" ng-model="dealerInvoiceTireDetailsarr.backLeft.unusedTyreDepth" />
                            <span class="input-group-addon ">&nbsp;mm&nbsp;</span>
                        </div>

                    </div>
                </div>   
                <button class="btn btn-primary pull-right" style="margin-top:25px" ng-click="updateOtherTireClaim()">Update Claim</button>             
            </div>
        </div>
    </div>
</div>
<script type="text/ng-template" id="popUpSuggestedPartDetails">
    <style>
        .input-sm {
            height: 25px !important;
            font-size: 11px;
        }

        .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-xs-1, .col-xs-10, .col-xs-11, .col-xs-12, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9 {
            padding-right: 5px;
            padding-left: 5px;
        }

        .ngdialog-content {
            width: 600px !important;
            height: 300px !important;
        }

        .ui-grid-top-panel {
            font-weight: 400 !important;
        }

        .ui-grid-canvas {
            text-align: center;
            font-size: 12px;
        }

        .grid {
            height: 250px !important;
        }

        .ui-grid-pager-panel {
            text-align: right;
            box-sizing: border-box !important;
        }

        .ui-grid-header-cell .ui-grid-cell-contents {
            text-align: center;
        }

        .columCss {
            text-decoration: none;
        }


        .ui-grid-canvas {
            text-align: center;
            font-size: 12px;
        }

        #loading {
            width: 100%;
            height: 100%;
            top: 120px;
            left: 0px;
            position: fixed;
            display: block;
            opacity: 0.7;
            background-color: black;
            z-index: 99;
            text-align: center;
        }

        .watermark {
            /*position: absolute;*/
            top: 50%;
            font-size: 15px;
            width: 100%;
            text-align: center;
            margin-top: 20px;
            z-index: 1000;
        }
        /*
                   This is the background of our overlay. We need it to be
                   absolutely positioned within the grid, and fill from
                   top to bottom, and the full width. It will also have
                   a black background with 40% opacity.
                */
        .grid-msg-overlay {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.4);
        }

            /*
                  This guy will contain our message. We want it centered
                  so it's positioned absolutely with percentage-based
                  offsets and dimensions. It also has some basic border
                  stuff and most important is using "display: table" so
                  we can vertically center its contents.
                */
            .grid-msg-overlay .msg {
                opacity: 1;
                position: absolute;
                top: 20%;
                left: 20%;
                width: 60%;
                height: 50%;
                background-color: #eee;
                border-radius: 4px;
                border: 1px solid #555;
                text-align: center;
                font-size: 24px;
                display: table;
            }

                /*
                  Lastly this is the actual message text. It uses
                  display: table-cell so the vertical alignment
                  works properly.
                */
                .grid-msg-overlay .msg span {
                    display: table-cell;
                    vertical-align: middle;
                }

        .has-error {
            border: solid 1px #e84e4e !important;
            /*#fbaa2b*/
        }
    </style>
    <h3 class="">Part Suggestions</h3>
    <div class="col-md-12">
        <table class="table table-bordered table-striped text-small">
            <thead>
                <tr>
                    <td>Part Name</td>
                    <td>Number</td>
                    <td>Qty</td>
                    <td>Unit Price ({{dealer.currencyCode}})</td>
                    <td></td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="part in partSuggestions track by $index">
                    <td>{{part.partName}}</td>
                    <td>{{part.partNumber}}</td>
                    <td>{{part.qty}}</td>
                    <td><input type="text" class="form-control" ng-model="part.price" /></td>
                    <td align="center"><button class="btn btn-primary btn-sm" ng-click="addPartSuggestionToClaimList(part.partId)">Add</button></td>
                </tr>
            </tbody>
        </table>
    </div>


</script>
<script type="text/ng-template" id="popUpPolicyDetails">
    <style>
        .input-sm {
            height: 25px !important;
            font-size: 11px;
        }

        .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-xs-1, .col-xs-10, .col-xs-11, .col-xs-12, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9 {
            padding-right: 5px;
            padding-left: 5px;
        }

        .ngdialog-content {
            width: 500px !important;
            height:250px !important;
        }

        .ui-grid-top-panel {
            font-weight: 400 !important;
        }

        .ui-grid-canvas {
            text-align: center;
            font-size: 12px;
        }

        .grid {
            height: 250px !important;
        }

        .ui-grid-pager-panel {
            text-align: right;
            box-sizing: border-box !important;
        }

        .ui-grid-header-cell .ui-grid-cell-contents {
            text-align: center;
        }

        .columCss {
            text-decoration: none;
        }


        .ui-grid-canvas {
            text-align: center;
            font-size: 12px;
        }

        #loading {
            width: 100%;
            height: 100%;
            top: 120px;
            left: 0px;
            position: fixed;
            display: block;
            opacity: 0.7;
            background-color: black;
            z-index: 99;
            text-align: center;
        }

        .watermark {
            /*position: absolute;*/
            top: 50%;
            font-size: 15px;
            width: 100%;
            text-align: center;
            margin-top: 20px;
            z-index: 1000;
        }
        /*
                   This is the background of our overlay. We need it to be
                   absolutely positioned within the grid, and fill from
                   top to bottom, and the full width. It will also have
                   a black background with 40% opacity.
                */
        .grid-msg-overlay {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.4);
        }

            /*
                  This guy will contain our message. We want it centered
                  so it's positioned absolutely with percentage-based
                  offsets and dimensions. It also has some basic border
                  stuff and most important is using "display: table" so
                  we can vertically center its contents.
                */
            .grid-msg-overlay .msg {
                opacity: 1;
                position: absolute;
                top: 20%;
                left: 20%;
                width: 60%;
                height: 50%;
                background-color: #eee;
                border-radius: 4px;
                border: 1px solid #555;
                text-align: center;
                font-size: 24px;
                display: table;
            }

                /*
                  Lastly this is the actual message text. It uses
                  display: table-cell so the vertical alignment
                  works properly.
                */
                .grid-msg-overlay .msg span {
                    display: table-cell;
                    vertical-align: middle;
                }

        .has-error {
            border: solid 1px #e84e4e !important;
            /*#fbaa2b*/
        }
    </style>
    <h3 class="">Policy Information</h3>
    <div class="col-md-12">
        <table class="table table-bordered table-striped text-small">
            <tbody>
                <tr colspan="2">
                    <td><strong> Customer Name</strong></td>
                    <td><strong>Commodity Type</strong></td>
                    <td><strong>Policy Number</strong></td>
                    <td><strong>Product</strong></td>

                </tr>
                <tr>
                    <td>{{policyDetails.customerName}}</td>
                    <td>{{policyDetails.commodityType}}</td>
                    <td>{{policyDetails.PolicyNo}}</td>
                    <td>{{policyDetails.insuaranceProductName}}</td>
                </tr>
                <tr>
                    <td colspan="2"><strong>Policy Start Date</strong></td>
                    <td colspan="2"><strong>Policy End Date</strong></td>

                </tr>
                <tr>
                    <td colspan="2">{{policyDetails.startDate}}</td>
                    <td colspan="2">{{policyDetails.endDate}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</script>

<script type="text/ng-template" id="imageScannerPopUp">
    <style>
        .margin10 {
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .input-sm {
            height: 25px !important;
            font-size: 11px;
        }

        .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-xs-1, .col-xs-10, .col-xs-11, .col-xs-12, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9 {
            padding-right: 5px;
            padding-left: 5px;
        }

        .ngdialog-content {
            width: 800px !important;
            height: 500px !important;
        }

        .ui-grid-top-panel {
            font-weight: 400 !important;
        }

        .ui-grid-canvas {
            text-align: center;
            font-size: 12px;
        }

        .grid {
            height: 250px !important;
        }

        .ui-grid-pager-panel {
            text-align: right;
            box-sizing: border-box !important;
        }

        .ui-grid-header-cell .ui-grid-cell-contents {
            text-align: center;
        }

        .columCss {
            text-decoration: none;
        }


        .ui-grid-canvas {
            text-align: center;
            font-size: 12px;
        }

        /*
                   This is the background of our overlay. We need it to be
                   absolutely positioned within the grid, and fill from
                   top to bottom, and the full width. It will also have
                   a black background with 40% opacity.
                */
        .grid-msg-overlay {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.4);
        }

            /*
                  This guy will contain our message. We want it centered
                  so it's positioned absolutely with percentage-based
                  offsets and dimensions. It also has some basic border
                  stuff and most important is using "display: table" so
                  we can vertically center its contents.
                */
            .grid-msg-overlay .msg {
                opacity: 1;
                position: absolute;
                top: 20%;
                left: 20%;
                width: 60%;
                height: 50%;
                background-color: #eee;
                border-radius: 4px;
                border: 1px solid #555;
                text-align: center;
                font-size: 24px;
                display: table;
            }

                /*
                  Lastly this is the actual message text. It uses
                  display: table-cell so the vertical alignment
                  works properly.
                */
                .grid-msg-overlay .msg span {
                    display: table-cell;
                    vertical-align: middle;
                }
    </style>
    <div class="ngdialog-message">
        <h3>Scan Documents </h3>

        <div class="container-fluid">
            <div class="col-md-1">
            </div>
            <div class="col-md-5" style="margin-top:20px;">
                <div id="dwtcontrolContainer" style="width: 270px; height: 350px; border: 1px solid rgb(204, 204, 204); display: block; position: relative; background-color: rgb(255, 255, 255);"></div>
                <input type="button" class="btn btn-primary btn-o btn-file btn-sm" style="margin-top:15px;" value="Scan" ng-click="AcquireImage()" />
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-10">
                        Document Name
                        <input type="text" class="form-control input-sm margin10" ng-model="attachmentData.name">
                        <input type="button" class="btn btn-primary btn-o btn-file btn-sm" value="Select Scanned PDF" ng-click="getSelectedImageFromScanner()" />
                        <input type="button" class="btn btn-danger btn-o btn-file btn-sm" value="Cancel" ng-click="closedialog()" />


                        <table class="table" style="margin-top: 18px">
                            <thead>
                                <tr>
                                    <td>
                                        #
                                    </td>
                                    <td>
                                        Section
                                    </td>
                                    <td>
                                        Type
                                    </td>
                                    <td>
                                        File Name
                                    </td>
                                    <td>
                                        Pages
                                    </td>
                                    <td></td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in ImageArray">
                                    <td>
                                        {{$index + 1}}
                                    </td>
                                    <td>
                                        <span ng-bind="item.section"></span>
                                    </td>
                                    <td>
                                        <span ng-bind="item.attachmentType"></span>
                                    </td>
                                    <td>
                                        <span ng-bind="item.documentName"></span>
                                    </td>
                                    <td>
                                        <span>{{item.encodedImage.length}}</span>
                                    </td>
                                    <td>
                                        <button class="btn btn-xs btn-danger" ng-click="removeAttachmentFromImageArray($index)" tabindex="118">Remove</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>

                    <div class="col-md-6"></div>
                </div>
            </div>

        </div>

    </div>
</script>
